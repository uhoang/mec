project goals: 

Create a typing algorithm:
 - inputs: + age break (58-67): (0, 1)
           + current health conditions: 7 conditions + 'Some other conditions'
              - Difficult falling sleep
              - Fatigue/lack of energy
              - Insomnia/Difficult staying asleep
              ...
           + prevention: 4 conditions + 'Some other condition(s)'

  -identify segments and interpret its meaning via descriptive statistics
  - provide titbits using profiling questions on lifestyle and other additional questions.
  - find linear combinations of the original features that gives the best possible separation between the segments. This is done by using linear discriminant analysis (LDA):
  Obtaining the prediction rate by cross-validation methods. Divide the data into N-fold, estimating the parameters on the (N-1) folds and classify on the remaining holdout sample and calculate the percentage of accuracy. Repeat it for N times and find the average percentage of accuracy.


7 segments
classify to  segments:
1) Chronic and serious
2) preserving movement
3) Declining vigor
4) Lifestyle hurdles
5) Proactive prevention
6) Few conditions
7) No condition

health problems that individual is currently suffering from/experiencing or concerned about preventing in the future



One additional class: no conditions


Gower distance for binary data, then use Dice coefficient 


check for symmetric versus Asymmetric nominal variables:
https://support.sas.com/documentation/cdl/en/statug/63033/HTML/default/viewer.htm#statug_distance_sect003.htm

the binary variable is called asymmetric when the agreement of positive match is more significant than the agreement of negative match. Ususally, the negative match is treated as irrelevant. 

For example: presence/absence of a relatively rare attribute, such as 'color-blind' for human being. While two people who are color-blind have something in common, we can't say that people who are not color-blind have something in common.

Common used measures for asymmetric binary variables: Jaccard, Dice, Russell and Rao, Binary Lance and Williams nonmetric, and Kulcynski coefficients.


Proposal for analysis:

- select a similarity measure: gower distance for binary data (Dice coefficient since the binary data is asymmetric)

  intuitive validity of Dice similarity coefficients: the occurence proportion (relative agreement)

- select a clustering alg: partitioning around medoids (PAM)
    It is an iterative clustering procedure
    + choose k random entities to become the medoids
    + assign every entity to its closest medoid (usign our custom distance matrix in this case)
    + for each cluster, identify the observation that woud yield the lowest average distance if it were to be re-assigned as the medoid. if so, make this observation the new medoid
    + If at least one medoid has changed, return to step 2. Otherwise, end the alg

  Also consider k-means: 
    PAM is more robust to noise and outliers when compared to k-means, and has the added benefit of having an observation serve as the exemplar for each clustser

    Both run time and memory are quadratic (i.e O(n^2))

- select the number of clusters

  a variety of metrics exist to help choose the number of clusters: silhouette width, an internal validation metric which is aggregated measure of how similar an observation is to its own cluster compared its closest neighboring cluster. The metric can range from -1 to 1, where higher values are better. 


Cluster interpretation; via descriptive statistics:
  - interpret the clusters by running summary on each cluster. 


to visualize many variables in lower dimensional space is with t-distributed stochastic neighborhood embedding, or t-SNE. This method is a dimension reduction technique that tries to preserve local structure so as to make clusters visible in a 2D or 3D visualization. 

# site for reference on cluster analysis 
http://dpmartin42.github.io/blogposts/r/cluster-mixed-types


Derive coefficient and predictive table for obtained cluster labels using Multinominal logistic regression on health condition and prevention inputs. 

# reference for multinomial logistic regression
https://stats.idre.ucla.edu/r/dae/multinomial-logistic-regression/ 


data quality: attention checks to remove the low-quality data, that is speeding through the survey by giving low-effort responses, engaging in a variety of other behaviors that negatively impact respone quality

removing respondents that fail attention checks is likely to introduce a demographic bias

being past the trap which induces them to invest less effort into their responses. An alternative hypothesis is the feeling that a researcher has tried to trap them may reduce trust or the feeling of reciprocity with survey researcher or organization that may influence willingness to engage thoughtfully and carefully with the survey.

Mturk: crowdsourcinng internet marketplace